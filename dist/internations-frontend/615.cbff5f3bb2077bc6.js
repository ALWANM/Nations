"use strict";(self.webpackChunkInternationsFrontend=self.webpackChunkInternationsFrontend||[]).push([[615],{615:(H,f,r)=>{r.r(f),r.d(f,{GroupsModule:()=>D});var u=r(9808),g=r(1083),o=r(5e3),v=r(1805),Z=r(3071),x=r(1271),h=r(4594),p=r(7093),d=r(7423),G=r(8099),i=r(9224),C=r(7322),m=r(6688);function y(n,s){if(1&n&&(o.TgZ(0,"mat-chip",17),o._uU(1),o.qZA()),2&n){const t=s.$implicit;o.xp6(1),o.AsE(" ",t.firstName," ",t.lastName," ")}}function A(n,s){if(1&n){const t=o.EpF();o.TgZ(0,"div",9)(1,"mat-card",10)(2,"mat-card-header")(3,"mat-card-title"),o._uU(4),o.qZA()(),o._UZ(5,"img",11),o.TgZ(6,"mat-card-content")(7,"mat-label"),o._uU(8," Groups members "),o.qZA(),o._UZ(9,"br"),o.qZA(),o.TgZ(10,"mat-card-content")(11,"div",12)(12,"mat-chip-list",13,14),o.YNc(14,y,2,2,"mat-chip",15),o.qZA()()(),o.TgZ(15,"mat-card-actions")(16,"button",2),o.NdJ("click",function(){const c=o.CHM(t).$implicit;return o.oxw(2).goEditGroup(c.groupid)}),o.TgZ(17,"mat-icon",16),o._uU(18,"edit"),o.qZA(),o._uU(19,"EDIT "),o.qZA(),o.TgZ(20,"button",2),o.NdJ("click",function(){const c=o.CHM(t).$implicit;return o.oxw(2).deleteGroup(c)}),o.TgZ(21,"mat-icon",16),o._uU(22,"delete"),o.qZA(),o._uU(23,"DELETE "),o.qZA()()()()}if(2&n){const t=s.$implicit;o.xp6(4),o.Oqu(t.groupName),o.xp6(10),o.Q6J("ngForOf",t.users)}}function T(n,s){if(1&n&&(o.ynx(0),o.TgZ(1,"div",7),o.YNc(2,A,24,2,"div",8),o.qZA(),o.BQk()),2&n){const t=s.ngIf;o.xp6(2),o.Q6J("ngForOf",t)}}function F(n,s){1&n&&(o.TgZ(0,"div",18)(1,"h3"),o._uU(2,"findind Groups ...."),o.qZA()())}const U=[{path:"",component:(()=>{class n{constructor(t,e,a,c){this.groupService=t,this.userService=e,this.router=a,this.snackBar=c}ngOnInit(){this.groups$=this.groupService.getGroups(),console.log("this.groups$",this.groups$)}deleteGroup(t){console.log("delettion user "+t.groupid),this.groupService.deleteGroupByKey(t.groupid).subscribe({next:e=>{this.updateUsers(t.users,t),this.groups$=this.groupService.getGroups(),this.showSnackbarDuration("User"+t.groupName+" deleted ","Done","5000"),console.log("this is the data "+e)},error:e=>console.error("error occur during deletion user "+e),complete:()=>console.info("delete user complete")})}goEditGroup(t){return this.router.navigate(["/groupAddEdit"],{queryParams:{groupid:t}})}goAddGroup(){return this.router.navigate(["/groupAddEdit"],{queryParams:{new:""}})}updateUsers(t,e){t.forEach(a=>{var c=a.groups.findIndex(l=>l.groupName==e.groupName);-1!==c&&a.groups.splice(c,1),this.userService.updateUser(a).subscribe({next:l=>{console.log("updating group "+l)},error:l=>console.error("error occur during update group "+l),complete:()=>console.info("update user complete")})})}showSnackbarDuration(t,e,a){this.snackBar.open(t,e,a)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(v.l),o.Y36(Z.K),o.Y36(g.F0),o.Y36(x.ux))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-groups"]],decls:11,vars:4,consts:[["color","accent","fxLayout","row","fxLayoutAlign","space-between center",1,"content"],["fxLayout","row","fxLayoutAlign","start center"],["mat-button","","color","primary",3,"click"],["color","primary"],["fxLayoutGap","16px grid",1,"content"],[4,"ngIf","ngIfElse"],["loading",""],["fxLayout","row wrap","fxLayout.lt-lg"," row wrap","fxLayoutGap","16px grid"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%",4,"ngFor","ngForOf"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%"],[1,"mat-elevation-z4"],["mat-card-image","","src","../../assets/img/pngwing.png"],[1,"scrollable"],["FormArrayName","Groups"],["chipList",""],["removable","false",4,"ngFor","ngForOf"],["color","accent"],["removable","false"],[1,"loaing-container"]],template:function(t,e){if(1&t&&(o.TgZ(0,"mat-toolbar",0),o._UZ(1,"div",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return e.goAddGroup()}),o.TgZ(3,"mat-icon",3),o._uU(4,"add"),o.qZA(),o._uU(5," Add "),o.qZA()(),o.TgZ(6,"div",4),o.YNc(7,T,3,1,"ng-container",5),o.ALo(8,"async"),o.qZA(),o.YNc(9,F,3,0,"ng-template",null,6,o.W1O)),2&t){const a=o.MAs(10);o.xp6(7),o.Q6J("ngIf",o.lcZ(8,2,e.groups$))("ngIfElse",a)}},directives:[h.Ye,p.xw,p.Wh,d.lW,G.Hw,p.SQ,u.O5,u.sg,p.yH,i.a8,i.dk,i.n5,i.G2,i.dn,C.hX,m.qn,m.HS,i.hq],pipes:[u.Ov],styles:[".mat-card[_ngcontent-%COMP%]{background:#fafafa;color:#1f70a1}.mat-table[_ngcontent-%COMP%]{background:#e5e6ec;color:#000}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{color:#070707}.mat-header-cell[_ngcontent-%COMP%]{color:#0c0c0cb3}ul[_ngcontent-%COMP%]{margin:0;padding:0}.scrollable[_ngcontent-%COMP%]{width:auto;height:100px;overflow-y:auto;overflow-x:hidden;white-space:nowrap}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[g.Bz.forChild(U)],g.Bz]}),n})();var O=r(508),N=r(7446),E=r(7238),S=r(7531),P=r(4999),L=r(6087),I=r(2638),J=r(2368),Y=r(5899),$=r(8029),b=r(9764),B=r(4449);let D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[v.l],imports:[[u.ez,M,d.ot,O.us,i.QW,h.g0,d.ot,N.p9,E.AV,S.c,P.p0,L.TU,G.Ps,I.SJ,J.rP,m.Hi,Y.Cv,x.ZX,$.KP,b.o9,B.ie]]}),n})()}}]);