"use strict";(self.webpackChunkInternationsFrontend=self.webpackChunkInternationsFrontend||[]).push([[341],{9341:(K,f,n)=>{n.r(f),n.d(f,{UsersModule:()=>H});var d=n(9808),m=n(1083),v=n(1159),t=n(5e3),x=n(3071),C=n(1805),h=n(1271),U=n(4594),u=n(7093),g=n(7423),Z=n(8099),c=n(9224),y=n(7322),p=n(6688);function A(o,s){if(1&o&&(t.TgZ(0,"mat-chip",17),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",e.groupName," ")}}function T(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"mat-card",10)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4),t.qZA()(),t._UZ(5,"img",11),t.TgZ(6,"mat-card-content")(7,"mat-label"),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"mat-label"),t._uU(11),t.qZA()(),t.TgZ(12,"mat-card-content")(13,"div",12)(14,"mat-chip-list",13,14),t.YNc(16,A,2,1,"mat-chip",15),t.qZA()()(),t.TgZ(17,"mat-card-actions")(18,"button",2),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(2).goEditUser(i.userid)}),t.TgZ(19,"mat-icon",16),t._uU(20,"edit"),t.qZA(),t._uU(21,"EDIT "),t.qZA(),t.TgZ(22,"button",2),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(2).deleteUser(i)}),t.TgZ(23,"mat-icon",16),t._uU(24,"delete"),t.qZA(),t._uU(25,"DELETE "),t.qZA()()()()}if(2&o){const e=s.$implicit;t.xp6(4),t.AsE("",e.firstName," ",e.lastName,""),t.xp6(4),t.AsE(" ",e.firstName," ",e.lastName," "),t.xp6(3),t.hij(" ",e.email," "),t.xp6(5),t.Q6J("ngForOf",e.groups)}}function F(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,T,26,6,"div",8),t.qZA(),t.BQk()),2&o){const e=s.ngIf;t.xp6(2),t.Q6J("ngForOf",e)}}function M(o,s){1&o&&(t.TgZ(0,"div",18)(1,"h3"),t._uU(2,"findind users ...."),t.qZA()())}const O=[{path:"",component:(()=>{class o{constructor(e,r,a,i){this.userService=e,this.groupService=r,this.router=a,this.snackBar=i,this.visible=!0,this.selectable=!0,this.removable=!1,this.addOnBlur=!0,this.separatorKeysCodes=[v.K5,v.OC]}ngOnInit(){this.users$=this.userService.getUsers()}deleteUser(e){console.log("delettion user "+e.userid),this.userService.deleteUserByKey(e.userid).subscribe({next:r=>{this.updateGroups(e.groups,e),this.users$=this.userService.getUsers(),this.showSnackbarDuration("User"+e.firstName+" "+e.lastName+" deleted ","Done","5000"),console.log("Delete user ",r)},error:r=>console.error("error occur during deletion user "+r),complete:()=>console.info("delete user complete")})}updateGroups(e,r){e.forEach(a=>{var i=a.users.findIndex(l=>l.email==r.email);-1!==i&&a.users.splice(i,1),this.groupService.updateGroup(a).subscribe({next:l=>{console.log("updating group "+l)},error:l=>console.error("error occur during update group "+l),complete:()=>console.info("update group complete")})})}goEditUser(e){return this.router.navigate(["/addEditUser"],{queryParams:{userid:e}})}goAddUser(){return this.router.navigate(["/addEditUser"],{queryParams:{selected:"new"}})}showSnackbarDuration(e,r,a){this.snackBar.open(e,r,a)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.K),t.Y36(C.l),t.Y36(m.F0),t.Y36(h.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-users"]],decls:11,vars:4,consts:[["color","accent","fxLayout","row","fxLayoutAlign","space-between center",1,"content"],["fxLayout","row","fxLayoutAlign","start center"],["mat-button","","color","primary",3,"click"],["color","primary"],["fxLayoutGap","16px grid",1,"content"],[4,"ngIf","ngIfElse"],["loading",""],["fxLayout","row wrap","fxLayout.lt-lg"," row wrap","fxLayoutGap","16px grid"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%",4,"ngFor","ngForOf"],["fxFlex","25%","fxFlex.xs","100%","fxFlex.sm","33%"],[1,"mat-elevation-z4"],["mat-card-image","","src","../../assets/img/pngwing.png"],[1,"scrollable"],["FormArrayName","Groups"],["chipList",""],["removable","false",4,"ngFor","ngForOf"],["color","accent"],["removable","false"],[1,"loaing-container"]],template:function(e,r){if(1&e&&(t.TgZ(0,"mat-toolbar",0),t._UZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return r.goAddUser()}),t.TgZ(3,"mat-icon",3),t._uU(4,"add"),t.qZA(),t._uU(5," Add "),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,F,3,1,"ng-container",5),t.ALo(8,"async"),t.qZA(),t.YNc(9,M,3,0,"ng-template",null,6,t.W1O)),2&e){const a=t.MAs(10);t.xp6(7),t.Q6J("ngIf",t.lcZ(8,2,r.users$))("ngIfElse",a)}},directives:[U.Ye,u.xw,u.Wh,g.lW,Z.Hw,u.SQ,d.O5,d.sg,u.yH,c.a8,c.dk,c.n5,c.G2,c.dn,y.hX,p.qn,p.HS,c.hq],pipes:[d.Ov],styles:[".mat-card[_ngcontent-%COMP%]{background:#fafafa;color:#1f70a1}.mat-table[_ngcontent-%COMP%]{background:#e5e6ec;color:#000}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{color:#070707}.mat-header-cell[_ngcontent-%COMP%]{color:#0c0c0cb3}ul[_ngcontent-%COMP%]{margin:0;padding:0}.scrollable[_ngcontent-%COMP%]{width:auto;height:100px;overflow-y:auto;overflow-x:hidden;white-space:nowrap}"]}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.Bz.forChild(O)],m.Bz]}),o})();var E=n(508),S=n(7446),P=n(7238),L=n(7531),b=n(4999),I=n(6087),B=n(2638),J=n(2368),Y=n(5899),D=n(8029),G=n(9764),$=n(4449);let H=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[x.K],imports:[[d.ez,N,g.ot,E.us,c.QW,U.g0,g.ot,S.p9,P.AV,L.c,b.p0,I.TU,Z.Ps,B.SJ,J.rP,p.Hi,Y.Cv,h.ZX,D.KP,G.o9,$.ie]]}),o})()}}]);